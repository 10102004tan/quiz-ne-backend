<body>
    <div class="bg-primary-custom py-4">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center text-white cursor-pointer">
                <i class="fa-solid fa-arrow-left me-2"></i>
                <span>Tro ve</span>
            </div>

            <div>
                <ul class="d-flex ms-5 align-items-center m-reset">
                    <li class="btn-number btn-number-active">1</li>
                    <li class="btn-number">2</li>
                    <li class="btn-number">3</li>
                    <li class="btn-number">4</li>
                    <li class="btn-number">5</li>
                </ul>
            </div>

            <div>
                <button type="button" class="btn-custom btn-primary-custom me-2 py-3 px-3">Luu Nhap</button>
                <button type="button" class="btn-custom btn-secondary-custom py-3 px-3">Hoan Thanh</button>
            </div>
        </div>
    </div>

    <div class="bg-secondary-custom py-3">
        <div class="bg-primary-custom py-5 w-75 mx-auto">
            <div class="w-80 mx-auto">
                <div class="d-flex fs-8">
                    <div class="w-20 me-2 position-relative ">
                        <div
                            class="btn-category-ques d-flex align-items-center py-2 px-2 bg-white rounded cursor-pointer">
                            <i class="fa-solid fa-list me-2"></i>
                            <span>Chon nhieu dap an</span>
                            <i class="fa-solid fa-caret-down ms-auto"></i>
                        </div>

                        <div
                            class="position-absolute box-categories-ques transition-primary o-0 py-3 px-2  rounded bg-white w-100 top-100 left-0 mt-2 z-index-99">
                            <div data-value-type="1" class="py-2 px-2 bg-light rounded mb-2 text-purple cursor-pointer">
                                <i class="fa-solid fa-list me-2"></i>
                                <span>Chon nhieu dap an</span>
                            </div>

                            <div data-value-type="0" class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-pen-to-square me-2"></i>
                                <span>Nhap cau tra loi</span>
                            </div>


                        </div>
                    </div>

                    <div class="w-20 me-2 position-relative">

                        <div class="btn-point d-flex align-items-center py-2 px-2 bg-white rounded cursor-pointer">
                            <i class="fa-solid fa-feather-pointed me-2"></i>
                            <span class="me-3">100 Diem</span>
                            <i class="fa-solid fa-caret-down ms-auto"></i>
                        </div>

                        <div
                            class="box-point-list position-absolute transition-primary o-0 py-3 px-2  rounded bg-white w-100 top-100 left-0 mt-2 z-index-99">
                            <div class="py-2 px-2 bg-light rounded mb-2 text-purple cursor-pointer">
                                <i class="fa-solid fa-feather-pointed me-2"></i>
                                <span>100 Diem</span>
                            </div>

                            <div class="py-2 px-2 rounded mb-2 hover-purple cursor-pointer">
                                <i class="fa-solid fa-feather-pointed me-2"></i>
                                <span>150 Diem</span>
                            </div>

                            <div class="py-2 px-2 rounded mb-2 hover-purple cursor-pointer">
                                <i class="fa-solid fa-feather-pointed me-2"></i>
                                <span>200 Diem</span>
                            </div>
                            <div class="py-2 px-2 rounded mb-2 hover-purple cursor-pointer">
                                <i class="fa-solid fa-feather-pointed me-2"></i>
                                <span>250 Diem</span>
                            </div>

                            <div class="py-2 px-2 rounded mb-2 hover-purple cursor-pointer">
                                <i class="fa-solid fa-feather-pointed me-2"></i>
                                <span>300 Diem</span>
                            </div>
                        </div>
                    </div>


                    <div class="w-20 me-2 position-relative">
                        <div class="d-flex btn-second align-items-center py-2 px-2 bg-white rounded cursor-pointer">
                            <i class="fa-solid fa-clock-rotate-left me-2"></i>
                            <span class="me-3">15 Giay</span>
                            <i class="fa-solid fa-caret-down ms-auto"></i>
                        </div>

                        <div style="max-height: 400px;"
                            class="position-absolute hidden-scroll o-0 box-seconds-list transition-primary py-3 px-2  rounded bg-white w-100 top-100 left-0 mt-2 z-index-99">
                            <div class="py-2 px-2 bg-light rounded mb-2 text-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span class="me-3">1 Giay</span>
                            </div>

                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>

                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>

                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>

                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>
                            <div class="py-2 px-2 rounded hover-purple cursor-pointer">
                                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                                <span>2 Giay</span>
                            </div>


                        </div>


                    </div>

                    <div
                        class="w-15 d-flex me-2 align-items-center py-2 px-2 rounded cursor-pointer text-danger-custom">
                        <i class="fa-regular fa-lightbulb me-2"></i>
                        <span class="me-3">Them giai thich</span>
                    </div>

                    <div class="w-25 d-flex align-items-center cursor-pointer text-white">
                        <i class="fa-solid fa-user-group me-2"></i>
                        <span>Xem o che do nguoi choi moi</span>
                    </div>


                </div>

                <div class="bg-secondary-custom rounded px-2 py-2 mt-3">
                    <div class="bg-primary-custom px-2 py-2 rounded">
                        <div
                            class="d-flex align-items-center bg-secondary-custom rounded justify-content-between px-2 py-2">

                            <div class="type-choice">
                                <label onclick="return changeTypeInputCheck('radio')" class="input-radio-custom">Mot cau
                                    tra loi dung
                                    <input type="radio" name="type-choice" checked>
                                    <span></span>
                                </label>


                                <label onclick="return changeTypeInputCheck('checkbox')"
                                    class="input-radio-custom ms-3">Nhieu cau tra loi dung
                                    <input type="radio" name="type-choice">
                                    <span></span>
                                </label>
                            </div>



                            <div class="d-flex ms-auto align-items-center text-white fs-8">
                                <i class="fa-solid fa-rotate-right me-2"></i>
                                <span>Dat lai</span>
                            </div>
                        </div>

                        <div class="mt-2 d-flex">
                            <div class="w-30 px-3 py-3 bg-secondary-custom">
                                <div id="btn-choice-image"
                                    class="text-center py-4 rounded-10 border-dashed text-white cursor-pointer">
                                    <i class="fa-regular fa-image d-block"></i>
                                    <span>Anh</span>
                                </div>

                                <div class="d-flex gap-3 mt-3">
                                    <div
                                        class="text-center w-100 py-4 rounded-10 border-dashed text-danger cursor-pointer">
                                        <i class="fa-solid fa-volume-high d-block"></i>
                                        <span>Anh</span>
                                    </div>
                                    <div
                                        class="text-center w-100 py-4 rounded-10 border-dashed text-danger cursor-pointer">
                                        <i class="fa-solid fa-video d-block"></i>
                                        <span>Anh</span>
                                    </div>


                                </div>

                                <p class="text-white mt-3 text-center fs-8">
                                    Để sử dụng các tính năng tải lên cho âm thanh và video, <a href="#"
                                        class="text-danger">Nâng cấp kế hoạch của bạn</a>
                                </p>

                            </div>

                            <textarea name="" id="" class="w-70 bg-secondary-custom px-3 py-3 ms-3 rounded text-light"
                                placeholder="Nhap cau hoi tai day"></textarea>
                        </div>


                    </div>

                    <div class="mt-2">
                        <div>
                            <div class="d-flex align-items-center ans-investigation-box">
                                <div class="ans__list w-100">
                                    <div class="ans__item rounded bg-primary-custom px-2 py-2">
                                        <div class="d-flex align-items-center mb-2 fs-8">
                                            <i class="fa-solid fa-trash text-danger me-3 cursor-pointer"></i>
                                            <label for="">
                                                <input type="file" class="d-none">
                                                <i class="fa-regular fa-image text-light cursor-pointer"></i>
                                            </label>
                                            <label class="input-radio-custom-tick input-check-tick ms-auto">
                                                <input type="radio" name="test2">
                                                <span></span>
                                            </label>
                                        </div>
                                        <textarea name="" id="" class="w-100 bg-secondary-custom rounded px-2 py-2"
                                            placeholder="Nhap cau tra loi tai day"></textarea>
    
                                    </div>
    
                                    <div class="ans__item rounded bg-primary-custom px-2 py-2">
                                        <div class="d-flex align-items-center mb-2 fs-8">
                                            <i class="fa-solid fa-trash text-danger me-3 cursor-pointer"></i>
                                             <label for="">
                                                <input type="file" class="d-none">
                                                <i class="fa-regular fa-image text-light cursor-pointer"></i>
                                            </label>
                                            <label class="input-radio-custom-tick input-check-tick ms-auto">
                                                <input type="radio" name="test2">
                                                <span></span>
                                            </label>
                                        </div>
    
                                        <textarea name="" id="" class="w-100 bg-secondary-custom rounded px-2 py-2"
                                            placeholder="Nhap cau tra loi tai day"></textarea>
                                    </div>
    
    
                                    <div class="ans__item rounded bg-primary-custom px-2 py-2">
                                        <div class="d-flex align-items-center mb-2 fs-8">
                                            <i class="fa-solid fa-trash text-danger me-3 cursor-pointer"></i>
                                             <label for="">
                                                <input type="file" class="d-none">
                                                <i class="fa-regular fa-image text-light cursor-pointer"></i>
                                            </label>
                                            <label class="input-radio-custom-tick input-check-tick ms-auto">
                                                <input type="radio">
                                                <span></span>
                                            </label>
                                        </div>
                                        <textarea name="" id="" class="w-100 bg-secondary-custom rounded px-2 py-2"
                                            placeholder="Nhap cau tra loi tai day"></textarea>
    
                                    </div>
    
    
                                    <div class="ans__item rounded bg-primary-custom px-2 py-2">
                                        <div class="d-flex align-items-center mb-2 fs-8">
                                            <i class="fa-solid fa-trash text-danger me-3 cursor-pointer"></i>
                                             <label for="">
                                                <input type="file" class="d-none">
                                                <i class="fa-regular fa-image text-light cursor-pointer"></i>
                                            </label>
                                            <label class="input-radio-custom-tick  ms-auto">
                                                <input type="radio">
                                                <span></span>
                                            </label>
                                        </div>
                                        <textarea name="" id="" class="w-100 bg-secondary-custom rounded px-2 py-2"
                                            placeholder="Nhap cau tra loi tai day"></textarea>
                                    </div>
                                </div>

                                <div class="ms-auto px-2">
                                    <i class="fa-solid fa-plus rounded text-white cursor-pointer my-3"
                                        onclick="return addItemOnParentBox('investigation')"></i>
                                </div>
                            </div>

                            <div class="py-3 px-2 rounded bg-primary-custom ans-essay-box d-none">
                                <p class="text-light mb-2 text-center">Đánh dấu câu trả lời là đúng, nếu câu trả lời</p>
                                <div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span style="width: 100px;"
                                            class="d-inline-block text-white fs-8 text-center"></span>
                                        <select class="select-box-custom me-2" name="" id="">
                                            <option value="is-exactly">Chinh xac</option>
                                            <option value="contains">Co chua</option>
                                        </select>
                                        <input type="text" class="input-text-custom-ans me-2 w-100"
                                            placeholder="Nhap thay the(toi da 50 ky tu)">
                                        <i class="fa-solid fa-trash cursor-pointer text-danger"></i>
                                    </div>

                                    <div class="d-flex align-items-center mb-2">
                                        <span style="width: 100px;"
                                            class="d-inline-block text-white fs-8 text-center">hoac</span>
                                        <select class="select-box-custom me-2" name="" id="">
                                            <option value="is-exactly">Chinh xac</option>
                                            <option value="contains">Co chua</option>
                                        </select>
                                        <input type="text" class="input-text-custom-ans me-2 w-100"
                                            placeholder="Nhap thay the(toi da 50 ky tu)">
                                        <i class="fa-solid fa-trash cursor-pointer text-danger"></i>
                                    </div>
                                </div>

                                <div class="text-center">
                                    <i class="fa-solid fa-plus rounded text-white cursor-pointer my-3 btn-add-ans-ph"
                                        onclick="return addItemOnParentBox('essay')"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="button" class="btn-custom btn-secondary-custom w-100 mt-4">Tao cau hoi moi</button>
            </div>
        </div>
    </div>

    <div class="overlay transition-primary o-0">
        <div
            class="px-3 py-3 pb-5 rounded bg-secondary-custom text-white text-center w-50 position-absolute center-box">
            <div class="text-end">
                <i class="fa-regular fa-circle-xmark ms-auto mb-3 cursor-pointer btn-xmark"></i>
            </div>
            <h5 class="mb-3">Them hinh anh</h5>
            <p class="text-light fs-8 mb-3">Sử dụng Ctrl + V để dán hình ảnh từ clipboard</p>
            <div class="d-flex align-items-center justify-content-center bg-primary-custom border-dashed rounded-10 cursor-pointer"
                style="height: 400px;">
                <div>
                    <h6>Keo hinh anh cua ban vao day</h6>
                    <span class="mb-2">hoac</span>
                    <form action="#" class="custom-file-input mb-3">
                        <input type="file" id="inputImageFile">
                        <label for="inputImageFile">
                            <div>
                                <i class="fa-solid fa-upload"></i>
                                <span>Tai len tu thiet bi</span>
                            </div>
                        </label>
                    </form>
                    <h6>Sử dụng ảnh JPG, PNG hoặc GIF</h6>
                </div>
            </div>

        </div>
    </div>

    <script>
        const btnCategoryQues = document.querySelector(".btn-category-ques");
        const boxCategoriesQues = document.querySelector(".box-categories-ques");
        const listCategoriesQues = boxCategoriesQues.querySelectorAll("div");
        const btnPoint = document.querySelector(".btn-point");
        const boxPointList = document.querySelector(".box-point-list");
        const listPoint = boxPointList.querySelectorAll("div");
        const btnSecond = document.querySelector(".btn-second");
        const boxSecondsList = document.querySelector(".box-seconds-list");
        const listSeconds = boxSecondsList.querySelectorAll("div");
        const boxTypeChoice = document.querySelector('.type-choice');
        const btnXmark = document.querySelector(".btn-xmark");
        const overlay = document.querySelector(".overlay");
        const btnChoiceImage = document.getElementById("btn-choice-image");
        let listInputCheckTick = document.querySelectorAll(".ans__item label");
        const ansInvestigationBox = document.querySelector(".ans-investigation-box");
        const ansEssayBox = document.querySelector(".ans-essay-box");
        const ansEssayBoxList = ansEssayBox.querySelector("div");
        const ansInvestigationBoxList = ansInvestigationBox.querySelector("div");
        let ansEssayBtnsDelete = ansEssayBox.querySelectorAll('.fa-trash');
        let ansInvestigationBtnsDelete = ansInvestigationBox.querySelectorAll('.fa-trash');
        // console.log(ansInvestigationBtnsDelete)
        // 
        clickBtn(btnCategoryQues, boxCategoriesQues, listCategoriesQues);
        clickBtn(btnPoint, boxPointList, listPoint);
        clickBtn(btnSecond, boxSecondsList, listSeconds);


        // 
        openCloseInteraction(btnChoiceImage, overlay);
        openCloseInteraction(btnXmark, overlay);


        // 
        removeItemOnParentBox("essay");
        removeItemOnParentBox("investigation");




        const boxContent = overlay.querySelector("div");
        boxContent.addEventListener("click", (event) => {
            event.stopPropagation();

        });

        overlay.addEventListener("click", function () {
            overlay.classList.toggle("o-0");
        });



        function removeItemOnParentBox(type) {
            if (type == "essay") {
                // ansEssayBtnsDelete[0].parentNode.querySelector("span").textContent = "";
                ansEssayBtnsDelete.forEach(ansEssayBtnDelete => {
                    ansEssayBtnDelete.addEventListener("click", function () {
                        const itemBox = ansEssayBtnDelete.parentNode;
                        itemBox.remove();
                    })
                });
            }
            else{
                ansInvestigationBtnsDelete.forEach(ansInvestigationBtnDelete => {
                    ansInvestigationBtnDelete.addEventListener("click", function () {
                        const itemBox = ansInvestigationBtnDelete.parentNode.parentNode;
                        itemBox.remove();
                    })
                });
            }
        }

        function openCloseInteraction(elementClick, elementBox) {
            elementClick.addEventListener("click", function () {
                elementBox.classList.toggle("o-0");
            });
        }

        function addItemOnParentBox(type) {

            let htmlItem = ``;
            const newItem = document.createElement('div');
            if (type == "essay") {
                htmlItem = `
                <span style="width: 100px;" class="d-inline-block text-white fs-8 text-center">hoac</span>
                <select class="select-box-custom me-2" name="" id="">
                    <option value="is-exactly">Chinh xac</option>
                    <option value="contains">Co chua</option>
                </select>
                <input type="text" class="input-text-custom-ans me-2 w-100" placeholder="Nhap thay the(toi da 50 ky tu)">
                <i class="fa-solid fa-trash cursor-pointer text-danger"></i>
                `;
                newItem.innerHTML = htmlItem;
                newItem.classList.add("d-flex", "align-items-center", "mb-2");
                ansEssayBoxList.appendChild(newItem);
                ansEssayBtnsDelete = ansEssayBox.querySelectorAll('.fa-trash');
                removeItemOnParentBox("essay");
                

            }
            else {
                
                htmlItem = `
                <div class="d-flex align-items-center mb-2 fs-8">
                    <i class="fa-solid fa-trash text-danger me-3 cursor-pointer"></i>
                    <i class="fa-regular fa-image text-light cursor-pointer"></i>
                    <label class="input-radio-custom-tick  ms-auto">
                        <input type="radio">
                        <span></span>
                    </label>
                </div>
                <textarea name="" id="" class="w-100 bg-secondary-custom rounded px-2 py-2"
                                        placeholder="Nhap cau tra loi tai day"></textarea>
                `;

                newItem.innerHTML = htmlItem;
                newItem.classList.add("ans__item","rounded","bg-primary-custom","px-2","py-2");
                ansInvestigationBoxList.appendChild(newItem);
                ansInvestigationBtnsDelete = ansInvestigationBox.querySelectorAll('.fa-trash');
                removeItemOnParentBox("investigation");
                listInputCheckTick = document.querySelectorAll(".ans__item label");
                
            }



        }

        function changeTypeInputCheck(typeCheck) {
            if (typeCheck === 'radio') {
                listInputCheckTick.forEach(inputCheckTick => {
                    inputCheckTick.classList.add("input-radio-custom-tick");
                    inputCheckTick.classList.remove("input-checkbox-custom-tick");
                    inputCheckTick.querySelector("input").setAttribute("type", "radio");
                });
            }
            else {
                listInputCheckTick.forEach(inputCheckTick => {
                    inputCheckTick.querySelector("input").setAttribute("type", "checkbox");
                    inputCheckTick.classList.remove("input-radio-custom-tick");
                    inputCheckTick.classList.add("input-checkbox-custom-tick");

                });
            }
        }

        function clickBtn(elementClick, elementBox, listElement) {

            let elementPre = listElement[0];

            elementClick.addEventListener("click", function () {
                elementBox.classList.toggle("o-0");
            })

            listElement.forEach(element => {
                element.addEventListener("click", function () {
                    elementPre.classList.remove("text-purple", "bg-light");
                    elementPre.classList.add("hover-purple");
                    elementClick.innerHTML = element.innerHTML + `<i class="fa-solid fa-caret-down ms-auto"></i>`;
                    elementBox.classList.toggle("o-0");
                    element.classList.add("text-purple", "bg-light");
                    elementPre = element;

                    if (elementClick == btnCategoryQues) {
                        if (element.getAttribute("data-value-type") == 0) {
                            boxTypeChoice.classList.add("o-0");
                            ansInvestigationBox.classList.add("d-none");
                            ansEssayBox.classList.remove("d-none");

                        }
                        else {
                            boxTypeChoice.classList.remove("o-0");
                            ansInvestigationBox.classList.remove("d-none");
                            ansEssayBox.classList.add("d-none");
                        }


                    }

                })
            });
        }
    </script>
</body>