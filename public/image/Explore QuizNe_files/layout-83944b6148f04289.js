(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5210],{46778:function(e,t,s){Promise.resolve().then(s.t.bind(s,96353,23)),Promise.resolve().then(s.t.bind(s,88488,23)),Promise.resolve().then(s.bind(s,90566)),Promise.resolve().then(s.bind(s,83673)),Promise.resolve().then(s.bind(s,77303)),Promise.resolve().then(s.bind(s,99278)),Promise.resolve().then(s.bind(s,29178)),Promise.resolve().then(s.bind(s,67078)),Promise.resolve().then(s.bind(s,22355)),Promise.resolve().then(s.bind(s,61188)),Promise.resolve().then(s.bind(s,98230))},40569:function(e,t,s){"use strict";var o=s(57437);s(2265);var a=s(35337);t.Z=e=>{let{visible:t=!1,title:s,message:n,btnYes:i="Yes",btnNo:r="No",variant:l="center",onYes:u,onNo:c,...d}=e;return(0,o.jsxs)(a.u_,{variant:l,open:t,showCloseButton:!1,closeOnBackdrop:!1,onClose:c,contentClassName:"comp-confirm-box bg-primary-500 rounded-lg py-4 max-w-[452px] mx-auto","data-testid":"confirm-box",...d,children:[(0,o.jsx)(a.u_.Header,{text:s}),(0,o.jsx)(a.u_.Body,{className:"text-center text-gray-50",children:(0,o.jsx)("p",{className:"text-sm font-bold",children:n})}),(0,o.jsxs)(a.u_.Footer,{className:"flex items-center justify-center space-x-3",children:[(0,o.jsx)(a.zx,{variant:"contained",color:"light",onClick:c,className:"rounded-lg px-6 py-3 sm:min-w-[135px]",children:(0,o.jsx)("span",{className:"text-sm font-bold uppercase text-violet-600",children:r})}),(0,o.jsx)(a.zx,{variant:"contained",color:"primary",onClick:u,className:"rounded-lg px-6 py-3 sm:min-w-[135px]",children:(0,o.jsx)("span",{className:"text-sm font-bold uppercase text-gray-50",children:i})})]})]})}},22355:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var o=s(57437);s(2265);var a=s(72515),n=s(94660),i=s(74810),r=s(39991),l=s(98213),u=s(63388);let c=(0,u.io)("https://api-pre-production.quizne.com",{autoConnect:!1,secure:!0,withCredentials:!0,transports:["websocket"]}),d=(0,n.Ue)()((0,i.mW)((0,r.n)(e=>({room:void 0,players:[],isLeaveRoom:!1,playerResults:void 0,userAnswer:void 0,timeoutState:!1,activeQuestionIndex:0,isConnected:!1,currentQuestion:{},isPause:!1,roomStatus:void 0,player:void 0,submitAnswer:async()=>{c.on(l.Q.SUBMIT,t=>{e({userAnswer:t.data.answer},!1,"playerListenSocketState/SubmitAnswerSuccess")})},joinRoom:async()=>{e({isFetching:!0}),c.on(l.Q.PLAYER_JOIN,t=>{var s,o;let a=!!(null===(s=t.data)||void 0===s?void 0:s.player),n=!!(null===(o=t.data)||void 0===o?void 0:o.anotherPlayer);a&&e(e=>{var s,o;e.player=null===(s=t.data)||void 0===s?void 0:s.player,e.players=null===(o=t.data)||void 0===o?void 0:o.players},!1,"playerListenSocketState/JoinRoomSuccess"),n&&e(e=>{var s,o;let a=null===(s=e.players)||void 0===s?void 0:s.find(e=>{var s;return e.playerId===(null===(s=t.data)||void 0===s?void 0:s.anotherPlayer.playerId)});a||e.players.push(null===(o=t.data)||void 0===o?void 0:o.anotherPlayer)},!1,"playerListenSocketState/JoinRoomSuccess"),e({isFetching:!1,error:t.error,message:t.msg})})},finishRoom:async()=>{c.once(l.Q.FINISH,t=>{e({roomStatus:t.data.status},!1,"playerListenSocketState/FinishRoomSuccess")})},closeRoom:async()=>{c.once(l.Q.CLOSE,t=>{e({roomStatus:t.data},!1,"playerListenSocketState/closeRoomSuccess")})},startRoom:async()=>{c.once(l.Q.START,t=>{e({roomStatus:t.data},!1,"playerListenSocketState/JoinRoomSuccess")})},nextQuestion:async()=>{c.on(l.Q.NEXT_QUESTION,t=>{e(e=>{var s,o;return{timeoutState:!1,userAnswer:void 0,activeQuestionIndex:t.data.activeQuestionIndex,currentQuestion:null===(o=e.room)||void 0===o?void 0:null===(s=o.quiz)||void 0===s?void 0:s.questions[t.data.activeQuestionIndex]}},!1,"playerListenSocketState/NextQuestionsSuccess")})},timeout:async()=>{c.on(l.Q.TIMEOUT,t=>{e({timeoutState:!0,playerResults:t.data},!1,"playerListenSocketState/TimeoutSuccess")})},pauseTime:async()=>{c.on(l.Q.PAUSE_TIME,t=>{e({isPause:t.data.isPauseTime},!1,"playerListenSocketState/PauseTimeSuccess")})},leaveRoom:async()=>{c.on(l.Q.LEAVE_ROOM,t=>{e(e=>{let s=e.players.findIndex(e=>e.playerId===t.data.anotherPlayer.playerId);-1!==s&&e.players.splice(s,1)},!1,"hostListenState/leaveRoomSuccess")})},setLeaveRoom:()=>{e(e=>{e.isLeaveRoom=!e.isLeaveRoom},!1,"hostListenState/leaveRoomSuccess")},resetState:()=>{e({room:void 0,players:[],isLeaveRoom:!1,playerResults:void 0,userAnswer:void 0,timeoutState:!1,activeQuestionIndex:0,isConnected:!1,currentQuestion:{},isPause:!1,roomStatus:void 0,player:void 0},!1,"playerListenSocketState/resetStateSuccess")}})),{name:"usePlayerListenSocketState"}));var y=s(64402);let createSinglePlay=e=>y.v_("player-activities/single-play",e),p=(0,n.Ue)()((0,i.mW)((0,i.tJ)((0,r.n)(e=>({submittedAnswer:{},questionIndex:0,isPauseCountdown:!1,isShowLoading:!0,nextQuestion:()=>{e(e=>{e.submittedAnswer={},e.questionIndex=e.questionIndex+1},!1,"singlePlayActions/nextQuestion")},pauseCountDown:t=>{e({isPauseCountdown:t},!1,"singlePlayActions/pauseCountDown")},submitAnswer:async(t,s,o,a,n)=>{try{e({isCreating:!0},!1,"singlePlayActions/submitAnswerRequest");let i=await createSinglePlay({playerId:t,questionId:s,roomCode:o,playerAnswers:a,shouldCountDown:n});e(e=>{e.isCreating=!1,e.submittedAnswer=i.data,e.statusCode=i.status},!1,"singlePlayActions/submitAnswerSuccess")}catch(t){e(e=>{e.isCreating=!1,e.statusCode=t.response.data.statusCode},!1,"singlePlayActions/submitAnswerFail")}},setIsShowLoading:t=>{e({isShowLoading:t},!1,"singlePlayActions/setIsShowLoading")},resetCrudState:()=>{e(e=>{e.isFetching=void 0,e.isCreating=void 0,e.isUpdating=void 0,e.isDeleting=void 0,e.statusCode=void 0,e.error=void 0},!1,"singlePlayActions/resetCrudState")},resetState:()=>{e({submittedAnswer:{},questionIndex:0,isPauseCountdown:!1,isShowLoading:!0},!1,"singlePlayActions/resetState")}})),{name:"useSinglePlayActionsState"}),{name:"useSinglePlayActionsState"}));var m=s(55218);let S=(0,n.Ue)()((0,i.mW)((0,i.tJ)((0,r.n)(e=>({countUpTime:0,countDownTime:0,questions:[],isTimeUp:!1,setTimeUp:async t=>{e({isTimeUp:t},!1,"singlePlayDataStorage/setCountUpTimeSuccess")},setCountUpTime:async t=>{e({countUpTime:t},!1,"singlePlayDataStorage/setCountUpTimeSuccess")},setCountDownTime:async t=>{e({countDownTime:t},!1,"singlePlayDataStorage/setCountUpTimeSuccess")},setShuffleQuestions:()=>{e(e=>{e.questions=(0,m.Z)(e.questions)},!1,"singlePlayDataStorage/setShuffleQuestionsSuccess")},setShuffleAnswers:()=>{let handleShuffleAnswers=e=>e.map(e=>{let t=(0,m.Z)(e.answers);return{...e,answers:t}});e(e=>{e.questions=handleShuffleAnswers(e.questions)},!1,"singlePlayDataStorage/setShuffleQuestionsSuccess")},setQuestions:async t=>{e({questions:t},!1,"singlePlayDataStorage/setQuestionsSuccess")},resetState:()=>{e({countUpTime:0,countDownTime:0,questions:[],isTimeUp:!1},!1,"singlePlayDataStorage/resetState")}})),{name:"useSinglePlayDataStorageState"}),{name:"useSinglePlayDataStorageState"}));var v=s(30525),w=s(40569);let ModalRoot=()=>{let e=(0,v.tv)(),t=(0,a.useTranslations)(),s=S(),n=p(),i=d();return(0,o.jsx)(w.Z,{message:t("are_you_sure_you_want_to_leave_the_room"),visible:i.isLeaveRoom,btnNo:t("button.no"),btnYes:t("button.yes"),onYes:()=>{s.resetState(),n.resetState(),n.resetCrudState(),e.push("/")},onNo:i.setLeaveRoom})};ModalRoot.displayName="ModalRoot";var f=ModalRoot},98230:function(e,t,s){"use strict";s.r(t);var o=s(2265),a=s(83171),n=s(70833),i=s(36697);let r=new a.Howl({src:[n.Q.CORRECT]}),l=new a.Howl({src:[n.Q.INCORRECT]}),u=new a.Howl({src:[n.Q.COUNTDOWN]}),c=new a.Howl({src:[n.Q.LEADERBOARD]});t.default=()=>{let e=(0,i.Z)();return(0,o.useEffect)(()=>{e.playCorrect&&r.play()},[e.playCorrect]),(0,o.useEffect)(()=>{e.playIncorrect&&l.play()},[e.playIncorrect]),(0,o.useEffect)(()=>{e.playCountDown&&u.play()},[e.playCountDown]),(0,o.useEffect)(()=>{e.playLeaderBoard&&c.play()},[e.playLeaderBoard]),(0,o.useEffect)(()=>{u.stop()},[e.stopCountDown]),null}},36697:function(e,t,s){"use strict";var o=s(94660),a=s(74810);let n=(0,o.Ue)()((0,a.mW)(e=>({playCorrect:null,playIncorrect:null,playCountDown:null,stopCountDown:null,playLeaderBoard:null,setPlayCorrect:()=>{e({playCorrect:new Date},!1,"soundEffects/setPlayCorrect")},setPlayIncorrect:()=>{e({playIncorrect:new Date},!1,"soundEffects/setPlayIncorrect")},setPlayCountDown:()=>{e({playCountDown:new Date},!1,"soundEffects/playCountDown")},setStopCountDown:()=>{e({stopCountDown:new Date},!1,"soundEffects/stopCountDown")},setPlayLeaderBoard:()=>{e({playLeaderBoard:new Date},!1,"soundEffects/playLeaderBoard")}})));t.Z=n}},function(e){e.O(0,[8218,9944,5966,1396,2749,9222,5549,7533,5365,9114,4664,1809,2539,5903,1191,3388,4586,5337,3839,9970,2971,2472,1744],function(){return e(e.s=46778)}),_N_E=e.O()}]);